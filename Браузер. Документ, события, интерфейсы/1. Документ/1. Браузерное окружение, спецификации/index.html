<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Браузерное окружение, спецификации</title>
    <link href="../../../style.css" rel="stylesheet">
</head>
<body>
    <article>
        <h2>Браузерное окружение, спецификации</h2>
        <p>Язык JavaScript изначально был создан для веб-браузеров. Но с тех пор он значительно эволюционировал и
        превратился в кроссплатформенный язык программирования для решения широкого круга задач.</p>
        <p>Сегодня JavaScript может использоваться в браузере, на веб-сервере или в какой-то другой среде, даже в
        кофеварке. Каждая среда предоставляет свою функциональность, которую спецификация JavaScript называет
        <i>окружением</i>.</p>
        <p>Окружение предоставляет свои объекты и дополнительные функции, в дополнение базовым языковым. Браузеры,
        например, дают средства для управления веб-страницами. Node.js делает доступными какие-то серверные возможности
        и так далее.</p>
        <p>На картинке ниже в общих чертах показано, что доступно для JavaScript в браузерном окружении:</p>
        <img src="https://learn.javascript.ru/article/browser-environment/windowObjects.svg" style="width: 30%" alt="">
        <p>Как мы видим, имеется корневой объект <code>window</code>, который выступает в 2 ролях:</p>
        <ol>
            <li>
                <p>Во-первых, это глобальный объект для JavaScript кода.</p>
            </li>
            <li>
                <p>Во-вторых, он также представляет собой окно браузера и располагает методами для управления им.</p>
            </li>
        </ol>
        <p>Например, здесь мы используем <code>window</code> как глобальный объект:</p>
        <code>
            function sayHi() {<br>
            &nbsp;&nbsp;alert('Hello');<br>
            }<br>
            <br>
            // Глобальные функции доступны как методы глобального объекта:<br>
            window.sayHi();
        </code>
        <p>А здесь мы используем <code>window</code> как объект из окна браузера, чтобы узнать его высоту:</p>
        <code>
            alert(window.innerHeight); // Внутренняя высота окна браузера
        </code>
        <p>Существует гораздо больше свойств и методов для управления окном браузера. Мы рассмотрим их позднее.</p>
    </article>

    <article>
        <h2>DOM (Document Object Model)</h2>
        <p>Document Object Model, сокращенно DOM - объектная модель документа, которая представляет все содержимое
        страницы в виде объектов, которые можно менять.</p>
        <p>Объект <code>document</code> - основная «входная точка». С его помощью мы можем что-то создавать или менять
        на странице.</p>
        <p>Например:</p>
        <code>
            // Заменим цвет фона на красный<br>
            document.body.style.background = 'red';<br>
            <br>
            // А через секунду вернем как было<br>
            setTimeout(() => document.body.style.background = '', 1000);
        </code>
        <p>Мы использовали в примере только <code>document.body.style</code>, но на самом деле возможности по
        управлению страницей намного шире. Различные свойства и методы описаны в спецификации:</p>
        <ul>
            <li>
                <p><b>DOM Living Standard</b> на <a href="https://dom.spec.whatwg.org">https://dom.spec.whatwg.org</a></p>
            </li>
        </ul>

        <article class="note">
            <h2>DOM - не только для браузеров</h2>
            <p>Спецификация DOM описывает структуру документа и предоставляет объекты для манипуляций со страницей.
            Существуют и другие, отличные от браузеров, инструменты, использующие DOM.</p>
            <p>Например, серверные скрипты, которые загружают и обрабатывают HTML-страницы, также могут использовать
            DOM. При этом они могут поддерживать спецификацию не полностью.</p>
        </article>

        <article class="note">
            <h2>CSSOM для стилей</h2>
            <p>Правила стилей CSS структурированы иначе чем HTML. Для них есть отдельная спецификация
            <a href="https://www.w3.org/TR/cssom-1/">CSSOM</a>, которая объясняет, как стили должны представляться
            в виде объектов, как их читать и писать.</p>
            <p>CSSOM используется вместе с DOM при изменении стилей документа. В реальности CSSOM требуется редко,
            обычно правила CSS статичны. Мы редко добавляем/удаляем стили из JavaScript, но и это возможно.</p>
        </article>
    </article>

    <article>
        <h2>BOM (Browser Object Model)</h2>
        <p>Объектная модель браузера (Browser Object Mode, BOM) - это дополнительные объекты, предоставляемые
        браузером (окружением), чтобы работать со всем, кроме документа.</p>
        <p>Например:</p>
        <ul>
            <li>
                <p>Объект <code>navigator</code> дает информацию о самом браузере и операционной системе. Среди
                множества его свойств самыми известными являются: <code>navigator.userAgent</code> - информация о
                текущем браузере, и <code>navigator.platform</code> - информация о платформе (может помочь в понимании
                того, в какой ОС открыт браузер - Windows/Linux/Mac и так далее).</p>
            </li>
            <li>
                <p>Объект <code>location</code> позволяет получить текущий URL и перенаправить браузер по новому адресу.</p>
            </li>
        </ul>
        <p>Вот как мы можем использовать объект <code>location</code>:</p>
        <code>
            alert(location.href); // Показывает текущий URL<br>
            if (confirm('Перейти на Wikipedia?')) {<br>
            &nbsp;&nbsp;location.href = 'https://wikipedia.org'; // Перенаправляет браузер на другой URL<br>
            }
        </code>
        <p>Функции <code>alert/confirm/prompt</code> тоже являются частью BOM: они не относятся непосредственно к
        странице, но представляют собой методы объекта окна браузера для коммуникации с пользователем.</p>

        <article class="note">
            <h2>Спецификации</h2>
            <p>BOM является частью общей <a href="https://html.spec.whatwg.org/">спецификации HTML</a>.</p>
            <p>Да, вы все верно услышали. Спецификация HTML по адресу
            <a href="https://html.spec.whatwg.org/">https://html.spec.whatwg.org/</a> не только про «язык HTML»
            (теги, атрибуты), она также покрывает целое множество объектов, методов и специфичных для каждого браузера
            расширений DOM. Это все «HTML в широком смысле». Для некоторых вещей есть отдельные спецификации,
            перечисленные на <a href="https://spec.whatwg.org/">https://spec.whatwg.org/</a>.</p>
        </article>
    </article>

    <article>
        <h2>Итого</h2>
        <p>Говоря о стандартах, у нас есть:</p>
        <h3>Спецификация DOM</h3>
        <p>Описывает структуру документа, манипуляции с контентом и события, подробнее на
        <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>.</p>
        <h3>Спецификация CSSOM</h3>
        <p>Описывает файлы стилей, правила написания стилей и манипуляции с ними, а также то, как это все связано
        со страницей, подробнее на <a href="https://www.w3.org/TR/cssom-1/">https://www.w3.org/TR/cssom-1/</a>.</p>
        <h3>Спецификация HTML</h3>
        <p>Описывает язык HTML (например, теги) и BOM (объектную модель браузера) - разные функции браузера:
        <code>setTimeout</code>, <code>alert</code>, <code>location</code> и так далее, подробнее на
        <a href="https://html.spec.whatwg.org/">https://html.spec.whatwg.org/</a>. Тут берется за основу спецификация
        DOM и расширяется дополнительными свойствами и методами.</p>
        <p>Кроме того, некоторые классы описаны отдельно на <a href="https://spec.whatwg.org/">https://spec.whatwg.org/</a>.</p>
        <p>Пожалуйста, заметьте для себя эти ссылки, так как по ним содержится очень много информации, которую
        невозможно изучить полностью и держать в уме.</p>
        <p>Когда вам нужно будет прочитать о каком-то свойстве или методе, справочник на сайте Mozilla
        <a href="https://developer.mozilla.org/ru/">https://developer.mozilla.org/ru/</a> тоже очень хороший ресурс,
        хотя ничто не сравнится с чтением спецификации: она сложная и объемная, но сделаем ваши знания максимально
        полными.</p>
        <p>Для поиска чего-либо обычно удобно использовать интернет-поиск со словами «WHATWG [термин]» или
        «MDN [термин]».</p>
        <p>А теперь давайте перейдем к изучению DOM, так как страница - это основа всего.</p>
    </article>
</body>
</html>