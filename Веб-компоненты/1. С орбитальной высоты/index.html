<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>С орбитальной высоты</title>
    <link href="../../style.css" rel="stylesheet">
    <script defer src="../../highlightElements.js"></script>
</head>
<body>
    <article>
        <h2>С орбитальной высоты</h2>
        <p>Этот раздел описывает набор современных стандартов для «веб-компонентов».</p>
        <p>На текущий момент эти стандарты находятся в процессе разработки. Некоторые фичи имеют хорошую поддержку и
        интеграцию в современный стандарт HTML/DOM, в то время как другие пока еще в черновиках. Вы можете попробовать
        примеры в любом современном браузере (Google Chrome, скорее всего, имеет наиболее полную поддержку, так как
        ребята из Google стоят за большинством спецификаций по этой теме).</p>
    </article>

    <article>
        <h2>Что общего между...</h2>
        <p>В идее самостоятельного компонента нет ничего нового. Такой подход используется во многих фреймворках.</p>
        <p>Прежде чем мы погрузимся в детали реализации, взгляните на это великое достижение человечества:</p>
        <img src="images/satellite.jpg" alt style="width: 50vw">
        <p>Это международная космическая станция (МКС).</p>
        <p>А это то, как она устроена (приблизительно):</p>
        <img src="images/satellite-expanded.jpg" alt style="width: 50vw">
        <p>Международная космическая станция:</p>
        <ul>
            <li>
                <p>Состоит из множества компонентов.</p>
            </li>
            <li>
                <p>Каждый компонент в свою очередь, состоит из множества более мелких деталей.</p>
            </li>
            <li>
                <p>Компоненты имеют очень сложное устройство, и гораздо сложнее большинства сайтов.</p>
            </li>
            <li>
                <p>Компоненты разработаны на международной основе, командами из разных стран и говорящих на разных языках.</p>
            </li>
        </ul>
        <p>... И эта штука летает, поддерживая жизни людей в космосе!</p>
        <p>Как создаются столь сложные устройства?</p>
        <p>Какие принципы мы могли бы позаимствовать, чтобы сделать нашу разработку такой же надежной и масштабируемой?
        Или, по крайней мере, приблизиться к такому уровню.</p>
    </article>

    <article>
        <h2>Компонентная архитектура</h2>
        <p>Хорошо известное правило разработки сложного программного обеспечения гласит: не создавай сложное программное
        обеспечение.</p>
        <p>Если что-то становится сложным - раздели это на более простые части и соедини наиболее очевидным способом.</p>
        <p><b>Хороший архитектор - это тот, кто может сделать сложное простым.</b></p>
        <p>Мы можем разделить пользовательский интерфейс на визуальные компоненты: каждый из них занимает свое место
        на странице, выполняет определенную задачу, и отделен от остальных.</p>
        <p>Рассмотрим какой-нибудь сайт, например, Twitter.</p>
        <p>Он естественным образом разделен на компоненты:</p>
        <img src="images/Снимок%20экрана%202025-08-29%20213702.png" alt style="width: 50vw">
        <ol>
            <li>
                <p>Верхняя навигация.</p>
            </li>
            <li>
                <p>Данные пользователя.</p>
            </li>
            <li>
                <p>Предложения подписаться.</p>
            </li>
            <li>
                <p>Форма отправки сообщения.</p>
            </li>
            <li>
                <p>(а так же 6 и 7) - сообщения.</p>
            </li>
        </ol>
        <p>Компоненты могут содержать подкомпоненты, например, сообщения могут быть частями родительского компонента
        «список сообщений». Кликабельное фото пользователя может быть самостоятельным компонентом и т.д.</p>
        <p>Как мы определяем что является компонентом? Это приходит из соображений здравого смысла, а также с интуицией
        и опытом. Обычно это объект, отделимый визуально, который мы можем описать с точки зрения того, что он делает и
        как он взаимодействует со страницей. В примере выше, страница содержит блоки, каждый из которых играет свою
        роль, и логично выделить их в компоненты.</p>
        <p>Компонент имеет:</p>
        <ul>
            <li>
                <p>Свой собственный JavaScript-класс.</p>
            </li>
            <li>
                <p>DOM-структура управляется исключительно своим классом, и внешний код не имеет к ней доступа
                (принцип «инкапсуляции»).</p>
            </li>
            <li>
                <p>CSS-стили, примененные к компоненту.</p>
            </li>
            <li>
                <p>API: события, методы класса и т.п., для взаимодействия с другими компонентами.</p>
            </li>
        </ul>
        <p>Еще раз заметим, в компонентном подходе как таковом нет ничего особенного.</p>
        <p>Существует множество фреймворков и методов разработки для их создания, каждый из которых со своими плюсами
        и минусами. Обычно особые CSS классы и соглашения используются для эмуляции компонентов - области видимости
        CSS и инкапсуляции DOM.</p>
        <p>«Веб-компоненты» предоставляют встроенные возможности браузера для этого, поэтому нам больше не нужно
        эмулировать их:</p>
        <ul>
            <li>
                <p><a target="_blank" href="https://html.spec.whatwg.org/multipage/custom-elements.html#custom-elements">Пользовательские элементы</a> -
                для определения пользовательских HTML-элементов.</p>
            </li>
            <li>
                <p><a target="_blank" href="https://dom.spec.whatwg.org/#shadow-trees">Теневой DOM</a> - для создания внутреннего
                DOM компонента, скрытого от остальных.</p>
            </li>
            <li>
                <p><a target="_blank" href="https://drafts.csswg.org/css-scoping/">Области видимости CSS</a> - для определения стилей,
                которые применяются только внутри теневого DOM компонента.</p>
            </li>
            <li>
                <p><a target="_blank" href="https://dom.spec.whatwg.org/#retarget">Перенаправления событий</a> и другие мелочи
                для создания более удобных в разработке пользовательских компонентов.</p>
            </li>
        </ul>
        <p>В следующие главе мы погрузимся в «пользовательские элементы» - фундаментальную для веб-компонентов технологию,
        имеющую хорошую поддержку в браузерах.</p>
    </article>
</body>
</html>