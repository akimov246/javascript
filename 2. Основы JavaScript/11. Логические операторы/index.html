<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Логические операторы</title>
    <link href="../../style.css" type="text/css" rel="stylesheet">
</head>
<body>
    <article>
        <h2>Логические операторы</h2>
        <p>В JavaScript есть семь логических операторов:</p>
        <ul>
            <li><code>||</code> (ИЛИ)</li>
            <li><code>||=</code> (Оператор логического присваивания ИЛИ)</li>
            <li><code>&&</code> (И)</li>
            <li><code>&&=</code> (Оператор логического присваивания И)</li>
            <li><code>!</code> (НЕ)</li>
            <li><code>??</code> (Оператор нулевого слияния)</li>
            <li><code>??=</code> (Оператор нулевого присваивания)</li>
        </ul>
        <p>Несмотря на свое название, данные операторы могут применяться к значениям любых типов. Полученные результаты
        также могут иметь различный тип.</p>
    </article>

    <article>
        <h2>|| (ИЛИ)</h2>
        <p>Оператор «ИЛИ» выглядит как двойной символ вертикальной черты:</p>
        <code>let result = a || b;</code>
        <p>Традиционно в программировании ИЛИ предназначено только для манипулирования булевыми значениями:
        в случае, если какой-либо из аргументов <code>true</code>, он вернет <code>true</code>, в противоположной ситуации
        возвращается <code>false</code>.</p>
        <p>Если значение не логического типа, то оно к нему приводится в целях вычислений.</p>
    </article>

    <article>
        <h2>ИЛИ «||» находит первое истинное значение</h2>
        <p>Расширенный алгоритм работает следующим образом.</p>
        <p>При выполнении ИЛИ <code>||</code> с несколькими значениями:</p>
        <code>let result = value1 || value2 || value3;</code>
        <p>Оператор <code>||</code> выполняет следующие действия:</p>
        <ul>
            <li>Вычисляет операнды слева направо;</li>
            <li>Каждый операнд конвертирует в логическое значение. Если результат <code>true</code>, останавливается и
            возвращает исходное значение этого операнда;</li>
            <li>Если все операнды являются ложными (<code>false</code>), возвращает последний из них.</li>
        </ul>
        <p>Значение возвращается в исходном виде, без преобразования.</p>
        <p>Другими словами, цепочка ИЛИ <code>||</code> возвращает первое истинное значение или последние, если такое
        значение не найдено.</p>
        <p>Это делает возможным более интересное применение оператора по сравнению с «чистым, традиционным, только булевым ИЛИ».</p>
        <ol>
            <li>
                <h3>Получение первого истинного значения из списка переменных или выражений.</h3>
                <p>Например, у нас есть переменные <code>first_name</code>, <code>last_name</code> и <code>nickname</code>,
                все они необязательные (т.е. могут быть неопределенными или иметь ложные значения).</p>
                <p>Давайте воспользуемся оператором ИЛИ <code>||</code>, чтобы выбрать ту переменную, в которой есть данные,
                и показать ее (или «Аноним», если ни в одной переменной данных нет):</p>
                <code>
                    let first_name = '';<br>
                    let last_name = '';<br>
                    let nickname = 'Суперкодер';<br>
                    alert(first_name || last_name || nickname || 'Аноним');
                </code> // Суперкодер
                <p>Если бы все переменные были ложными, в качестве результата мы бы наблюдали <code>'Аноним'</code>.</p>
            </li>
            <li>
                <h3>Сокращенное вычисление.</h3>
                <p>Еще одной отличительной особенностью оператора ИЛИ <code>||</code> является так называемое «сокращенное
                вычисление».</p>
                <p>Это означает, что ИЛИ <code>||</code> обрабатывает свои операнды до тех пор, пока не будет достигнуто первое
                истинное значение, и затем это значение сразу же возвращается, даже не затрагивая другие операнды.</p>
                <p>Важность этой особенности становится очевидной, если операнд - это не просто значение, а выражение
                с сопутствующим эффектом, как, например, присваивание переменной или вызов функции.</p>
                <p>В приведенном ниже примере сработает только второй <code>alert</code>:</p>
                <code>true || alert('никогда не сработает');</code><br>
                <code>false || alert('сработает');</code>
                <p>В первой строке оператор ИЛИ <code>||</code> останавливает выполнение сразу после того, как сталкивается
                с истинным значением (<code>true</code>), поэтому сообщение не показывается.</p>
                <p>Иногда люди используют эту возможность для выполнения инструкций только в том случае, если условие в левой
                части является ложным.</p>
            </li>
        </ol>
    </article>

    <article>
        <h2>||= (Логическое присваивание ИЛИ)</h2>
        <p>Оператор логического присваивания ИЛИ <code>||=</code> записывается как обычный ИЛИ <code>||</code> с добавлением
        символа присваивания <code>=</code>. Такая запись не случайна, так как результат выполнения данного оператора напрямую
        зависит от действий уже известного нам <code>||</code>.</p>
        <p>Вот его синтаксис:</p>
        <code>a ||= b;</code>
        <p>Оператор <code>||=</code> принимает два операнда и выполняет следующие действия:</p>
        <ul>
            <li>Вычисляет операнды слева направо;</li>
            <li>Конвертирует <code>a</code> в логическое значение;</li>
            <li>Если <code>a</code> ложно, присваивает значение <code>b</code>.</li>
        </ul>
        <p>Концепция оператора <code>||=</code> заключается в «сокращенном вычислении», принцип работы которого мы разобрали ранее.</p>
        <p>Теперь давайте перепишем <code>a ||= b</code> под вид «сокращенного вычисления»:</p>
        <code>a || (a = b);</code>
        <p>Мы уже знаем, что ИЛИ <code>||</code> возвращает <i>первое истинное значение</i>, поэтому, если <code>a</code>
        является таковым, вычисление до правой части выражения не дойдет.</p>
        <p>Вот пример с очевидным использованием оператора <code>||=</code>:</p>
        <code>let manufacturer = '';</code><br>
        <code>manufacturer ||= 'Неизвестный производитель';</code><br>
        <code>alert(manufacturer);</code> // 'Неизвестный производитель'
        <p>Оператор логического присваивания ИЛИ <code>||=</code> - это «синтаксический сахар», добавленный в язык в качестве
        более короткого варианта записи <code>if</code>-выражений с присваиванием.</p>
    </article>

    <article>
        <h2>&& (И)</h2>
        <p>Оператор И пишется как два амперсанда <code>&&</code>:</p>
        <code>let result = a && b;</code>
        <p>В традиционном программировании И возвращает <code>true</code>, если оба аргумента истинны,
        а иначе - <code>false</code>.</p>
        <p>Как и в случае с ИЛИ, любое значение допускается в качестве операнда И.</p>
    </article>

    <article>
        <h2>И «&&» находит первое ложное значение</h2>
        <p>При нескольких подряд операторах И:</p>
        <code>let result = value1 && value2 && value3;</code>
        <p>Оператор <code>&&</code> выполняет следующие действия:</p>
        <ul>
            <li>Вычисляет операнды слева направо;</li>
            <li>Каждый операнд преобразует в логическое значение. Если результат <code>false</code>, останавливается
            и возвращает исходное значение этого операнда;</li>
            <li>Если все операнды были истинными, возвращает последний.</li>
        </ul>
        <p>Другими словами, И возвращает первое ложное значение или последнее, если все операнды истинны.</p>
        <article class="note">
            <h2>Приоритет оператора <code>&&</code> больше, чем у <code>||</code></h2>
            <p>Приоритет оператора И <code>&&</code> больше, чем ИЛИ <code>||</code>, так что он выполняется раньше.</p>
            <p>Таким образом, код <code>a && b || c && d</code> по существу такой же, как если бы выражения <code>&&</code>
            были в круглых скобках: <code>(a && b) || (c && d)</code>.</p>
        </article>
    </article>

    <article>
        <h2>&&= (Логическое присваивание И)</h2>
        <p>Оператор логического присваивания И <code>&&=</code> записывается как два амперсанда <code>&&</code> и символ
        присваивания <code>=</code>.</p>
        <p>Вот его синтаксис:</p>
        <code>a &&= b;</code>
        <p>Принцип действия <code>&&=</code> практически такой же, как у оператора логического присваивания ИЛИ
        <code>||=</code>. Единственное отличие заключается в том, что <code>&&=</code> присвоит <code>a</code>
        значение <code>b</code> только в том случае, если <code>a</code> <i>истинно</i>.</p>
        <p>Концепция оператора логического присваивания И <code>&&=</code> также основывается на «сокращенном вычислении»:</p>
        <code>a && (a = b);</code>
        <p>Пример использования:</p>
        <code>let greeting = 'Привет';</code><br>
        <code>greeting &&= greeting ', пользователь!';</code><br>
        <code>alert(greeting);</code> // 'Привет, пользователь!'
    </article>

    <article>
        <h2>! (НЕ)</h2>
        <p>Оператор НЕ представлен восклицательным знаком <code>!</code>.</p>
        <p>Синтаксис довольно прост:</p>
        <code>let result = !value;</code>
        <ol>
            <li>Оператор приводит аргумент к логическому типу;</li>
            <li>Затем возвращает противоположное значение.</li>
        </ol>
        <p>В частности, двойное НЕ <code>!!</code> используют для преобразования значений к логическому типу.</p>
        <p>Приоритет НЕ <code>!</code> является наивысшим из всех логических операторов, поэтому он всегда выполняется
        первым, перед <code>&&</code> или <code>||</code>.</p>
    </article>

    <script src="script.js"></script>
</body>
</html>